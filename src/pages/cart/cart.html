<!--
  Generated template for the CartPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color="tabRed">
        <ion-title>Cart</ion-title>
        <ion-buttons clear end>
            <button ion-button clear padding-horizontal
                    (click)="viewCartsPage()"
            >
                [{{shoppingCartItems.length}}]
                <img src="assets/imgs/cart.png" style="padding-left: 5px">
            </button>
        </ion-buttons>
    </ion-navbar>

</ion-header>


<ion-content class="masterBg" padding>


    <header>
        <h1>{{currentActiveCustomer?.firstName}} {{currentActiveCustomer?.lastName}}</h1>
        <p>has <b>{{shoppingCartItems?.length}} item</b> in cart</p>
    </header>


    <ng-container *ngIf="shoppingCartItems?.length > 0">
        <div    *ngFor="let cartItem of shoppingCartItems"
                class="product-card product-card__cart-item">

            <button (click)="removeItem(cartItem)"
                    class="product-card__cart-item--remove">
                <ion-icon name="close"></ion-icon>
            </button>

            <div class="product-card--image">
                <img src="{{cartItem.product.imageUrl}}">
            </div>

            <main class="product-card--content">
                <h3 class="product-card--content--title">{{cartItem.product.name}}</h3>
                <p class="product-card--content-description">
                    {{cartItem.product.description}}
                </p>
                <p class="product-card--content-details">
                    RM {{cartItem.product.price}}
            </main>

            <div class="product-card--action-group">
                <button (click)="increaseItemQuantity(cartItem)"
                        class="product-card__cart-item--action">
                    <ion-icon name="add"></ion-icon>
                </button>

                <div class="product-card__cart-item--value">{{cartItem.quantity}}</div>

                <button (click)="decreaseItemQuantity(cartItem)"
                        class="product-card__cart-item--action">
                    <ion-icon name="remove"></ion-icon>
                </button>
            </div>
        </div>
    </ng-container>

    <ion-footer padding>
        <div class="cart-summary">
            <h6 class="cart-summary--label">TOTAL</h6>
            <h1 class="cart-summary--total">RM {{totalCartPrice}}</h1>
        </div>
        <button ion-button default block outline color="light" padding-horizontal (click)="placeOrder()">
            AUTHENTICATE ORDER
        </button>
    </ion-footer>

</ion-content>
